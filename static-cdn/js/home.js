var jsonData=jsonData||{};jsonData["country-info"]={AT:{currency:"EUR",ddp:!0,name:"Austria",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},AU:{currency:"AUD",ddp:!0,name:"Australia",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1500,shipping:[{cost:1750,days_high:10,days_low:5,free_above:25500,id:"intl",increment:500,provider:"Ground Shipping",provider_key:"order.shipping.intl.ground"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:7500,osmo_coding_kit:15995,osmo_creative_set:7500,osmo_full_kit:28900,osmo_genius_kit:15900,osmo_numbers:4900,osmo_starter_kit:11900,osmo_wonder_kit:22500}},CA:{currency:"CAD",ddp:!0,name:"Canada",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1500,shipping:[{cost:1750,days_high:10,days_low:5,free_above:19900,id:"intl",increment:700,provider:"Ground Shipping",provider_key:"order.shipping.intl.ground"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:6900,osmo_coding_kit:9995,osmo_creative_set:6900,osmo_genius_kit:12900,osmo_numbers:3900,osmo_starter_kit:9900,osmo_wonder_kit:18900}},CH:{currency:"USD",ddp:!1,name:"Switzerland",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},DE:{currency:"EUR",ddp:!0,name:"Germany",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},FI:{currency:"EUR",ddp:!0,name:"Finland",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},FR:{currency:"EUR",ddp:!0,name:"France",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},GB:{currency:"GBP",ddp:!0,name:"United Kingdom",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,sentence_name:"UK",sentence_name_prefix:"the ",shipping:[{cost:999,days_high:10,days_low:5,free_above:17e3,id:"intl",increment:400,provider:"Ground Shipping",provider_key:"order.shipping.intl.ground"}],symbol:"£",taxes:!1,unit_price:{osmo_coding:4900,osmo_coding_kit:5995,osmo_creative_set:4900,osmo_genius_kit:8900,osmo_numbers:2900,osmo_starter_kit:7500,osmo_wonder_kit:12900}},GR:{currency:"EUR",ddp:!0,name:"Greece",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},HK:{currency:"HKD",ddp:!0,name:"Hong Kong",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:8e3,shipping:[{cost:9995,days_high:10,days_low:5,free_above:139900,id:"intl",increment:4e3,provider:"Ground Shipping",provider_key:"order.shipping.intl.ground"}],symbol:"$",taxes:!1,unit_price:{osmo_coding:39800,osmo_coding_kit:59800,osmo_creative_set:39800,osmo_genius_kit:79800,osmo_numbers:24800,osmo_starter_kit:62800,osmo_wonder_kit:118800}},IE:{currency:"EUR",ddp:!0,name:"Ireland",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},JP:{currency:"USD",ddp:!1,name:"Japan",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:1200,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},KR:{currency:"USD",ddp:!1,name:"South Korea",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},LU:{currency:"EUR",ddp:!0,name:"Luxembourg",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1182,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8698,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},MY:{currency:"USD",ddp:!1,name:"Malaysia",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:1200,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!1,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},NL:{currency:"EUR",ddp:!0,name:"Netherlands",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,sentence_name_prefix:"the ",shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},NZ:{currency:"NZD",ddp:!0,name:"New Zealand",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1900,days_high:21,days_low:10,free_above:27500,id:"intl",increment:750,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:7900,osmo_coding_kit:14995,osmo_creative_set:7900,osmo_full_kit:29900,osmo_genius_kit:16900,osmo_numbers:4900,osmo_starter_kit:12900,osmo_wonder_kit:22500}},PT:{currency:"EUR",ddp:!0,name:"Portugal",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},SE:{currency:"SEK",ddp:!0,name:"Sweden",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:11200,days_high:21,days_low:10,free_above:199500,id:"intl",increment:4300,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"kr",taxes:!1,unit_price:{osmo_coding:54900,osmo_coding_kit:82900,osmo_creative_set:54900,osmo_genius_kit:114900,osmo_numbers:39900,osmo_starter_kit:89900,osmo_wonder_kit:154900}},SG:{currency:"SGD",ddp:!1,name:"Singapore",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1775,days_high:21,days_low:10,free_above:25500,id:"intl",increment:700,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!1,unit_price:{osmo_coding:7500,osmo_coding_kit:15900,osmo_creative_set:7500,osmo_genius_kit:15900,osmo_numbers:4900,osmo_starter_kit:11900,osmo_wonder_kit:22500}},TH:{currency:"USD",ddp:!1,name:"Thailand",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},US:{currency:"USD",ddp:!0,list_name:"United States of America",name:"United States",referral_amount:1e3,sentence_name:"US",sentence_name_prefix:"the ",shipping:[{cost:0,days_high:10,days_low:5,id:"ground",increment:0,provider:"FREE Ground Shipping",provider_key:"order.shipping.us.free"},{cost:1299,days_high:3,days_low:2,id:"two_days_us",increment:500,provider:"2-Day Shipping",provider_key:"order.shipping.us.2day"},{cost:3499,days_high:2,days_low:1,id:"one_day_us",increment:1e3,provider:"1-Day Shipping",provider_key:"order.shipping.us.1day"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_full_kit:18900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}}},jsonData["experiment-defs"]=[{name:"homepageVideo",code:"hpvx",force_value:!0,pages:["home"]},{name:"homepageCredibility",code:"hcrx",force_value:!0,pages:["home"]},{name:"homepageGrows",code:"hgrx",force_value:!1,pages:["home"]},{name:"homepageFindAStore",code:"hfsx",force_value:!0,pages:["home"]},{name:"homepageShowPrice",code:"hprx",force_value:!1,pages:["home"]},{name:"homepageOrderOsmo",code:"hoox",force_value:!0,pages:["home"]},{name:"homepageOrderOsmo3",code:"hoo3x",force_value:!1,pages:["home"]},{name:"homepageTvAdvert",code:"htvx",force_value:!1,pages:["home"]},{name:"homepageChristmasTheme",code:"hpvx",force_value:!0,pages:["home"]},{name:"homepageOldVersion",code:"hovx",css_class:"homepage-oldversion",active:!1,iteration:2,returning_iteration:2,pages:"*",ga_id:"",force_value:!1},{name:"orderPageSequence",code:"opsx",active:!1,pages:["order-react"],force_value:!0},{name:"hideHowItWorks",code:"hhiwx",active:!1,pages:["home"],force_value:!0},{name:"homepageCondensedGames",code:"hcgx",active:!1,pages:["home"],force_value:!1},{name:"homepageHowItWorks2",code:"hhiw2x",active:!1,pages:["home"],classBaseName:"homepage-howitworks2",force_value:!0},{name:"orderQuantityCart",code:"oqcx",active:!1,pages:["order-react"],force_value:!0},{name:"orderQuantityFilter",code:"oqfx",active:!1,pages:["order-react"],force_value:!1},{name:"orderTwoBases",code:"o2bx",active:!1,pages:["order-react"],force_value:!0},{name:"navbarShopNow",code:"nsnx",active:!0,pages:"*"},{name:"homepageLongVideo",code:"hlvx",active:!1,pages:["home"],force_value:!0}],jsonData.skus=[{id:"osmo_full_kit",name:"The Complete Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_full_kit.png",is_most_popular:!0,popularity:3,includes_base:!0,base_count:2,referral_cash_back:!0,collapsed_question_text:"Want the full experience?",games_included:{base:!0,creativeset:!0,masterpiece:!0,newton:!0,tangram:!0,words:!0,numbers:!0,coding:!0,monster:!0}},{id:"osmo_wonder_kit",sku:"TP-OSMO-10",name:"Wonder Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_wonder_kit.png",popularity:1,includes_base:!0,referral_cash_back:!0,collapsed_question_text:"Want the full experience?",games_included:{base:!0,masterpiece:!0,newton:!0,tangram:!0,words:!0,numbers:!0,coding:!0}},{id:"osmo_creative_starter_kit",name:"Creative Starter Kit",box_fan_image_url:"/images/games/box-fans/osmo_creative_starter_kit.png",popularity:2,includes_base:!0,games_included:{base:!0,creativeset:!0,masterpiece:!0,monster:!0,newton:!0,tangram:!0,words:!0}},{id:"osmo_genius_kit",sku:"TP-OSMO-02",name:"Genius Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_genius_kit.png",is_new:!1,includes_base:!0,referral_cash_back:!0,collapsed_question_text:"Don’t have an Osmo base and mirror?",games_included:{base:!0,masterpiece:!0,newton:!0,tangram:!0,words:!0,numbers:!0},compliance_doc:"TP-OSMO-02_EU_DoC_20150911.pdf"},{id:"osmo_starter_kit",sku:"TP-OSMO-01",name:"Starter Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_starter_kit.png",includes_base:!0,referral_cash_back:!0,collapsed_question_text:"Don’t have an Osmo base and mirror?",games_included:{base:!0,masterpiece:!0,newton:!0,tangram:!0,words:!0},compliance_doc:"TP-OSMO-01_EU_DoC_20150611.pdf"},{id:"osmo_coding_kit",sku:"TP-OSMO-04",name:"Coding Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_coding_kit.png",is_most_popular:!1,includes_base:!0,referral_cash_back:!0,collapsed_question_text:"Don’t have an Osmo base and mirror?",games_included:{base:!0,masterpiece:!0,newton:!0,coding:!0},compliance_doc:"TP-OSMO-04_EU_DoC_20160512.pdf"},{id:"osmo_creative_set",sku:"TP-OSMO-09",name:"Creative Set",box_fan_image_url:"/images/games/box-fans/osmo_creative_set.png",games_included:{creativeset:!0,masterpiece:!0,monster:!0,newton:!0}},{id:"osmo_coding",sku:"TP-OSAP-PR-01",name:"Coding",remark:"(no base)",box_fan_image_url:"/images/games/box-fans/osmo_coding.png",is_new:!1,includes_base:!1,single_item_sku:!0,games_included:{coding:!0},compliance_doc:"TP-OSAP-PR-01_EU_DoC_20160512.pdf"},{id:"osmo_numbers",sku:"TP-OSAP-NU-01",name:"Numbers",remark:"(no base)",box_fan_image_url:"/images/games/box-fans/osmo_numbers.png",is_new:!1,includes_base:!1,single_item_sku:!0,games_included:{numbers:!0},compliance_doc:"TP-OSAP-NU-01_EU_DoC_20150911.pdf"},{id:"osmo_brain_kit",sku:"TP-OSMO-06",name:"Brain Kit",box_fan_image_url:"/images/games/box-fans/osmo_brain_kit.png",includes_base:!0,games_included:{base:!0,tangram:!0,newton:!0,masterpiece:!0},compliance_doc:"TP-OSMO-06_EU_DoC_20160512.pdf"},{id:"osmo_words_kit",sku:"TP-OSMO-11",name:"Words Kit",box_fan_image_url:"/images/games/box-fans/osmo_words_kit.png",includes_base:!0,games_included:{base:!0,words:!0,newton:!0,masterpiece:!0}},{id:"osmo_creative_set_kit",sku:"TP-OSMO-05",name:"Creative Kit",box_fan_image_url:"/images/games/box-fans/osmo_creative_set_kit.png",includes_base:!0,games_included:{base:!0,creativeset:!0,newton:!0,masterpiece:!0,monster:!0}}];var globalCouponActive=!0,countries=jsonData["country-info"],orderShared=function(){function a(a){return!!countries[a]}function b(a,b){var c=countries[b];return!!c&&!(!c.unit_price[a]||c.non_shipping&&c.non_shipping[a])}function c(a,b){var c=countries[b];return!!c&&!!c.unit_price[a]}function d(a,b){var c=countries[a];if(!c)return b?d("US"):{};var e=c.unit_price;return"object"!=typeof e&&(e={osmo_starter_kit:e}),e}function e(a){var b=Math.round(Math.abs(a));return""+(b-b%100)/100}function f(a,b){var c=Math.round(Math.abs(a)),d=("0"+c).slice(-2);return b&&"00"===d?"":x+d}function g(a,b){return e(a)+f(a,b)}function h(a){var b=d(a).osmo_starter_kit/d("US").osmo_starter_kit;return b.toFixed(4)}function i(a,b){var c=a*h(b);return c+=250,c-=c%500}function j(a,b,c,d){var e=k(b,c,d),f=$(a);f.find(".price-non-zero").showHide(e.isZero),f.hasClass("price-non-zero")&&f.showHide(!e.isZero);var g=e.isZero&&f.find(".price-zero").length>0;f.find(".price-zero").showHide(g),g?(f.find(".price_dollars").text(""),f.find(".price_cents").text("")):(f.find(".price_dollars").text(e.dollars),f.find(".price_cents").text(e.cents));var h="",i="";g||(h=e.currencySymbolLeft,i=e.currencySymbolRight),f.find(".currency_symbol_left").text(h),f.find(".currency_symbol_right").text(i),f.find(".js-currency-code").text(e.currency),f.find(".js-currency-code-always-show").text(e.currency);var j=!g&&e.showCurrencyCode;f.find(".js-currency-code,.js-currency-code-holder").showHide(j),f.find(".js-currency-code-always-show").showHide(!g),f.find(".js-vat-included").showHide(!g&&e.showVatIncluded),f.find(".js-free-shipping").showHide(!g&&e.showFreeShipping)}function k(a,b,c){a=a||0;var d=t(b);"HKD"!==d.currency&&"NOK"!==d.currency&&"DKK"!==d.currency&&"SEK"!==d.currency||(c=!0);var g="",h="";"EUR"===d.currency&&"IE"!==b?h=d.symbol:"kr"===d.symbol?h=" "+d.symbol:g=d.symbol,a<0&&(g="−"+g);var i="US"!==b&&"$"===d.symbol;return{amount:a,currency:d.currency,isZero:0===a,dollars:e(a),cents:f(a,c),currencySymbolLeft:g,currencySymbolRight:h,showCurrencyCode:i,showVatIncluded:a>0&&!i&&!d.taxes,showFreeShipping:a>0&&"US"===b}}function l(a,b,c){var d;return d="number"==typeof a?k(a,b,c):a,d.currencySymbolLeft+d.dollars+d.cents+d.currencySymbolRight}function m(a,c){var d=0;return $.each(a,function(a,e){b(a,c)&&(d+=e)}),d}function n(a){var b=1/0,c=countries[a];if(c){var d=c.shipping;d.forEach(function(a){if(0===a.cost)return void(b=0);var c=a.free_above;"number"==typeof c&&c<b&&(b=c)})}return b}function o(a,b,c,d){var e=orderShared.getTotalQuantity(a,b);if(e<=0)return 0;var f=t(b),g=f.shipping,h=g.find(function(a){return a.id===c})||g[0],i=h.cost+Math.max(0,e-1)*h.increment;return"US"===b&&0===i&&d<=0&&e>0&&(i=500),h.free_above>0&&d+i>h.free_above&&(i=Math.max(0,h.free_above-d)),i}function p(a,b,c){for(var e=d(b),f=Object.keys(a).sort(function(a,b){return e[b]-e[a]}),g=c?c.remainingUnits:0,h={},j=c?c.campaignByCountry[b]||c.campaign:null,k=0;k<f.length;k++){var l=f[k];if("number"!=typeof e[l]||!c||c.applicableSkus&&!c.applicableSkus[l])h[l]=0;else{var m=Math.min(g,a[l]),n=0;if((!j||"eep"===j||"percent_off"===c.type&&"starter_numbers_2016"!==j||"thunder_clap_2016"===j||"thunder_no_clap_2016"===j||"ca_edu_mailer_2016"===j||"creative_set_thunder_clap_2016"===j||"creative_set_thunder_no_clap_2016"===j)&&(n=Math.floor((e[l]||0)*(c.percentOff||0))*m,g-=m),"valid"===c.status&&"black_friday_2015"===j&&("US"===b||"CA"===b)){switch(b){case"US":n=1e3*m;break;case"CA":n=2e3*m}g-=m}"exit_intent"===j&&"osmo_numbers"!==l&&(n=i(500*m,b),g-=m),"holiday_2015"===j&&"osmo_numbers"!==l&&(n=i(2e3*m,b),g-=m),"holiday_2015"===j&&"osmo_numbers"===l&&a[l]>=1&&g<=2&&(n=e[l]||0),"US"!==b&&"starter_numbers_2016"===j&&"osmo_starter_kit"===l&&a.osmo_starter_kit>=1&&a.osmo_numbers>=1&&(m=Math.min(a.osmo_starter_kit,a.osmo_numbers),n=Math.floor((e[l]||0)*(c.percentOff||0))*m),"easter_2016"===j&&"osmo_starter_kit"===l&&("US"===b||"CA"===b)&&c.discounts&&c.discounts.osmo_starter_kit&&c.discounts.osmo_starter_kit[b]&&(n=c.discounts.osmo_starter_kit[b]*m,g-=m),h[l]=n}}return h}function q(a,b,c){if(!c||!c.referralDiscount)return 0;var d=c.referralDiscount.amountByCountry[b];if(!d)return 0;var e=r(a,b,c);if(d>e&&(d=e),!c.referralDiscount.skus)return d;var f=0;return $.each(c.referralDiscount.skus,function(b){if(this&&a[b])return f=d,!1}),f}function r(a,b,c){var e=d(b),f=p(a,b,c),g=0;return $.each(a,function(a,b){g+=(e[a]||0)*b-f[a]}),g}function s(a,b,c,d,e){var f=r(a,b,c),g=r(a,b,null),h=p(a,b,c),i=q(a,b,c),j=o(a,b,d,f-i),k=f-i+j+(e||0);return{country:b,currency:t(b).currency,totalQuantity:m(a,b),subtotal:f,subtotalOriginal:g,couponDiscount:g-f,discounts:h,referralDiscount:i,shipping:j,tax:e||0,total:k,couponCode:c?c.code:null,referralCode:c?c.referralCode:0,cart:u(a,b,c),quantities:a}}function t(a){return countries[a]||countries.US}function u(a,b,c){var e=d(b),f=p(a,b,c),g={};return $.each(a,function(a,b){if("number"==typeof e[a]&&b>0){var c={quantity:this,discount:f[a],item_price:e[a]||0,price_paid:b*(e[a]||0)-f[a]};g[a]=c}}),g}function v(a,b){return!(!a&&""!==a)&&("US"===b?a.search(y)>=0:"IE"===b||"HK"===b||a.length>0)}function w(a,b,c){var d=countries[b];if(!d||!d.shipping||0===d.shipping.length)return{country:b,methods:[],isDelayed:!0};var e=!0,f=!!c,g=!!c;c&&$.each(a,function(a,b){var d=c.skus&&c.skus[a],h=!!(d&&d.days_delayed<=0);if(b>0){var i=!(!h||!d.two_day_shipping);i||(f=!1);var j=!(!h||!d.one_day_shipping);j||(g=!1),h||(e=!1)}});var h=[];return $.each(d.shipping,function(a,b){var c=b.id;if((f||"two_days_us"!==c)&&(g||"one_day_us"!==c)){var d={id:b.id,name:b.provider,nameKey:b.provider_key,daysLow:b.days_low,daysHigh:b.days_high};h.push(d)}}),{country:b,methods:h,isDelayed:!e}}var x="de"===lang||"fr"===lang?",":".",y=/^[0-9]{5}(?:-[0-9]{4})?$/;return{canShipToCountry:a,getBackEndCart:u,getBasePrices:d,getCountryInfo:t,getDiscounts:p,getDollarsCentsString:g,getFreeShippingThreshold:n,getPriceInfo:k,getPriceString:l,getPriceBreakdown:s,getReferralDiscount:q,getShipping:o,getShippingOptions:w,getSubtotalPrice:r,getTotalQuantity:m,isSkuBuyable:b,isSkuVisible:c,isValidPostalCode:v,renderPrice:j,getConvertedCouponValue:i}}(),prepareVideo=function(a,b){function c(){b&&(b(),b=null)}function d(){return i.is(":visible")}function e(){l&&(4!==k.readyState&&window.setTimeout(e,200),k.load(),k.play())}function f(){d()&&e()&&c()}function g(){l=!0,f()}function h(){l=!1}var i=$(a),j=i.find("video"),k=j[0],l=!1,m={pause:h,play:g};return m},demoVideos=function(){function a(){!function(){function a(){d=$("#navbar-wrapper").outerHeight(),e=b.height()-d,g=Number.POSITIVE_INFINITY,f=[],h.each(function(){function a(a){return function(){var b=this,c=arguments;i=i.then(function(){return a.apply(b,c)}).catch(function(a){console.warn("Error with "+j+" video"),console.error(a)})}}var b=this,c=$(b),d=c.outerHeight(),e=c.offset().top+d/4,h=e+d/2,i=Promise.resolve(),j=c.attr("data-game");f.push({el:b,gameId:j,h:d,top:e,bottom:h,play:a(function(){return b.play().catch(function(a){console.warn("Failed to play video for "+j),console.error(a)})}),pause:a(function(){return b.pause()})}),e<g&&(g=e)}),c()}function c(){var a=b.scrollTop()+d,c=a+e;!i&&c>=g-50&&(i=!0),$.each(f,function(){this.top<a||this.bottom>c?this.pause():this.play()})}var d,e,f,g,h=$(".allgames-demo-video"),i=!1;a(),b.on("scroll",c),b.on("resize",a)}()}var b=$(window);return{decorateAll:a}}(),timedCarousels=function(){function a(){$(".timed-carousel").each(function(a,c){b(c)})}function b(a){function b(){if(!j){var a=(u+1)%o.length;$.each(p,function(){var b=this,c=b.eq(v).text(),d=b.eq(a).text();c&&d&&c===d||b.each(function(b){var c=$(this);b!==a&&c.removeClass("initially-visible"),c.toggleClass("is-visible",b===a),c.toggleClass("is-hidden",b===u)})}),v=a,u=a,d()}}function d(){if(!j){var a=o.eq(u).attr("data-show-time"),c=l;a&&(c=parseFloat(a)),k.set(b,c)}}function e(){j||(q=$("#navbar-wrapper").outerHeight(),r=x.height()-q,s=i.offset().top,t=i.outerHeight(),f())}function f(){if(!j){var a=$(window).scrollTop()+q,b=a+r>=s+t/2&&a<=s+t/2;b!==w&&(w=b,w?d():k.clear())}}function g(){j||(trace("Starting the carousel!"),x.on("scroll"+y,f).on("resize"+y,e),e())}function h(){j=!0,k.clear(),x.off(y)}var i=$(a);if(!i.attr(c)){i.attr(c,"1");var j=!1,k=new shared.Timeout,l=parseFloat(i.attr("data-show-time")),m=i.attr("data-carousel-id"),n=$('.timed-carousel-partner[data-carousel-id="'+m+'"]'),o=i.find(".timed-carousel-item"),p=[o];n.each(function(){var a=$(this).find(".timed-carousel-item");p.push(a),a.length!==o.length&&trace(o.length+" main items !== "+a.length+" partner items")});var q,r,s,t,u=0,v=0,w=!1,x=$(window),y="."+shared.randomString(),z=i.attr("data-wait-for");return z?window[z+"-loaded"]?g():(trace("Waiting to start the carousel"),$("#"+z).load(g)):g(),h}}var c="data-iq7ot2ngerua";return{decorate:b,decorateAll:a}}();$(function(){shared.getCountryCode(function(a){$(".js-only-in-us-visibility").showHideVisibility("US"===a),$(".js-only-in-us").showHide("US"===a),$(".js-only-not-in-us").showHide("US"!==a);var b=orderShared.getFreeShippingThreshold(a);isFinite(b)&&($(".js-only-with-free-shipping").showHide(!0),$(".js-free-shipping-threshold").text(orderShared.getPriceString(b,a,!0)))},"US")}),function(){function a(){$(".base").addClass("baseAnim"),$(".words").addClass("wordsAnim"),$(".tangram").addClass("tangramAnim"),$(".all-the-osmo-boxes").addClass("put-together")}function b(){$(".base").removeClass("baseAnim"),$(".words").removeClass("wordsAnim"),$(".tangram").removeClass("tangramAnim"),$(".all-the-osmo-boxes").removeClass("put-together")}function c(){$(".base").hasClass("baseAnim")||$(".all-the-osmo-boxes").hasClass("put-together")?b():a()}var d=experiments.getVariation("homepageVideo"),e=experiments.getVariation("homepageCredibility"),f=experiments.getVariation("homepageGrows"),g=experiments.getVariation("homepageFindAStore"),h=experiments.getVariation("homepageShowPrice"),i=experiments.getVariation("homepageOrderOsmo"),j=experiments.getVariation("homepageOrderOsmo3"),k=experiments.getVariation("homepageTvAdvert"),l=(experiments.getVariation("homepageChristmasTheme"),experiments.getVariation("hideHowItWorks")),m=experiments.getVariation("homepageCondensedGames"),n=experiments.getVariation("homepageHowItWorks2");experiments.getVariation("homepageLongVideo");experiments.setBodyFlag("homepage-video",d),experiments.setBodyFlag("homepage-credibility",e),experiments.setBodyFlag("homepage-grows",f),experiments.setBodyFlag("homepage-findastore",g),experiments.setBodyFlag("homepage-orderosmo",i),experiments.setBodyFlag("homepage-orderosmo3",j),experiments.setBodyFlag("homepage-hidehowitworks",l),experiments.setBodyFlag("homepage-condensedgames",m),experiments.setBodyFlag("homepage-howitworks2",n);var o={threshold:75,velocity:.1},p=!1;if(isGiddyUp&&"/order/"!==window.location.pathname){$(".link").remove(),$(".social-icon").remove(),$(".facebook").remove(),$(".twitter").remove(),$(".js-giddyup-hide").remove(),$(".link-email").remove(),$(".link-press").removeAttr("href"),$.removeCookie("gu_aff_id",{path:"/"}),$.removeCookie("gu_clk_id",{path:"/"}),$.removeCookie("gu_sub_id",{path:"/"}),$.removeCookie("gu_camp_id",{path:"/"});var q=getQueryStringParam("aff_id"),r=getQueryStringParam("clk_id"),s=getQueryStringParam("sub_id"),t=getQueryStringParam("camp_id");q.length>0&&$.cookie("gu_aff_id",q,{expires:1,path:"/"}),r.length>0&&$.cookie("gu_clk_id",r,{expires:1,path:"/"}),s.length>0&&$.cookie("gu_sub_id",s,{expires:1,path:"/"}),t.length>0&&$.cookie("gu_camp_id",t,{expires:1,path:"/"})}$(document).ready(function(){var d=$(window);if($(".btn-buy-header,.btn-buy-header2").addClass("btn-buy-show"),reportErrors(),shared.couponCheck(),0!==getVideoPlaytime()&&$(".share").show(),$("#slide_video").length||$("#slide_hero").length){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f)}$(".js-show_order_bottom").hover(function(){a()},function(){b()}),$(".boxes").click(function(){c()}),$(".all-the-osmo-boxes").click(function(){c()});var g=$(".stripe-intro-monster");g.length>0&&!function(){var a=$("#navbar-wrapper"),b=$("#body-wrapper"),c=$(".monster-launch-holder"),e=function(){var e=d.scrollTop(),f=g.outerHeight(),h=f,i=b.offset().top;a.css({position:e>h?"fixed":"absolute",top:e>h?"0px":f+"px"}),c.css("max-height",e>i?"0":""),e<i&&$(".parallax-transparent").css({opacity:e/i}),e<f?$(".howitworks-fixed").css("display","none"):$(".howitworks-fixed").css("display","block"),$(".stripe-monster-launch").css({opacity:e<i?1:0})};d.on("scroll",e),d.on("resize",e),e();var f=function(){return{disableOn:0,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',patterns:{youtube:{src:"https://www.youtube.com/embed/%id%?autoplay=1&rel=0&enablejsapi=1"}}},callbacks:{markupParse:function(a){var b=a.find("iframe");b.attr("id","monster-video-popup")},open:function(){new YT.Player("monster-video-popup",{events:{onStateChange:function(a){a.data===YT.PlayerState.ENDED&&$.magnificPopup.close()}}}),$.cookie("seen-monster-video","true",{expires:90,path:"/"}),siteAnalytics.setVideoPlayed(1),siteAnalytics.trackEvent("general","play-video",this.currItem.src,!0)},close:function(){$(".stripe-intro-monster").css("display","none"),$(".stripe-discover-monster").css("display","block")}}}};window.onYouTubeIframeAPIReady=function(){g.find(".js-popup-youtube-banner").magnificPopup(f())},$(".mobilemenu-toggle").on("click",function(){$(document).scrollTop($("#navbar").offset().top)})}();var i=$("#numbers-teaser");if(i.length>0){var j=i.find(".banner-inner"),l=$("#navbar-wrapper"),m=l.find(".navbar-shadow"),n=function(){var a=d.scrollTop(),b=i.outerHeight();l.css("position",a>b?"fixed":"absolute"),m.css("position",a>b?"fixed":"absolute");var c=Math.max(0,2*b-a)/(2*b);j.css("opacity",""+c),a<b&&j.css("top",Math.round(a/2)+"px")};d.on("resize",n),d.on("scroll",n),n(),"true"===$.cookie("seen-numbers-video")&&(i.find(".banner-before").showHide(!1),i.find(".banner-after").showHide(!0));var q=function(){return{disableOn:0,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,callbacks:{open:function(){$.cookie("seen-numbers-video","true",{expires:90,path:"/"}),siteAnalytics.setVideoPlayed(1),siteAnalytics.trackEvent("general","play-video",this.currItem.src,!0)},close:function(){i.find(".banner-before").showHide(!1),i.find(".banner-after").showHide(!0)}}}};if(i.find(".js-popup-youtube-banner").magnificPopup(q()),"play"===getQueryStringParam("numbers_video")){var r=q();r.items={src:i.find(".js-popup-youtube-banner").attr("href")},r.iframe={patterns:{youtube:{src:"https://www.youtube.com/embed/%id%?autoplay=0"}}},$.magnificPopup.open(r)}$(".btn-buy-header,.btn-buy-header2").addClass("btn-buy-show")}timedCarousels.decorateAll(),shared.getCountryCode(function(a){d.trigger("resize"),p="CN"===a});(function(){function a(){return $(".arrow-down-section:visible")}function b(a,b){g[a]=b}function c(){var b=a(),c=d.height(),f=$("#navbar-wrapper").outerHeight(),g=(c-f)/2;i=null,h=null,b.each(function(){var a=$(this),b=a.offset().top,d=b+a.outerHeight(),e=d-c;(!i||e>=i)&&(i=e);var j=b-g-f;(!h||j<h)&&(h=j)}),e()}function e(){var a=d.scrollTop();f.cached().toggleClass("is-hidden",!(a>=h&&a<i))}var f=$(".page-arrow-down"),g={};f.click(function(){var b,c,e=a(),f=shared.getTotalToolbarHeight(),h=d.scrollTop()+f,i=h+d.height()-f,j=null;if(e.each(function(){var a=$(this),d=a.offset().top,e=d+a.outerHeight();if(e>i)return j=a,b=d,c=e,!1}),j){var k=g[j.attr("data-arrow-down-section")];if(k)k();else{var l=shared.getTotalToolbarHeight(!1,parseInt(j.attr("data-arrow-down-section-arrow-height"))||0);b-l-2<=h?shared.scrollToY(-f+h+.9*(i-h)):shared.scrollToY(Math.ceil(-l+b))}}});var h,i;return d.on("scroll",e),d.on("resize",c),c(),{addSpecialCase:b}})();demoVideos.decorateAll(),function(){function a(){g=$("#navbar-wrapper").outerHeight(),h=e.offset().top,i=f.offset().top,b()}function b(){var a=d.scrollTop()+g+l,b=a>=h,e=!1;k.each(function(b){var c=$(this);if(a<c.offset().top+.75*c.outerHeight())return j.cached().attr("data-selected-index",""+(b+1)),e=!0,!1});var f=e&&b&&a<i;c.cached().toggleClass("toolbar-section-visible",f);
}var c=$("#stripe-allgames-toolbar"),e=$("#stripe-allgames-toolbar-first"),f=$("#stripe-allgames-toolbar-last");if(c.length&&e&&f){var g,h,i,j=c.find(".allgames-toolbar-pointer"),k=$(".allgames-game"),l=58;c.showHide(!0),a(),d.on("scroll",b),d.on("resize",a)}}(),function(){function a(a){return"number"!=typeof a&&(a=j),i.eq(a).find("video:visible")[0]}function b(b){function d(){var a=e?e.duration:12,b=a;m.set(function(){c(j+1)},b)}if(!l)return void m.clear();if(b)m.clear();else if(m.isSet())return;var e=a();!e||e.readyState>0?d():$(e).on("loadeddata",d)}function c(c){for(;c>=e;)c-=e;for(;c<0;)c+=e;if(c!==j){g.attr("data-selected-index",""+(c+1)),h.attr("data-selected-index",""+(c+1)),j=c,k=!0;var d=a();d&&(d.currentTime=0),b(!0)}}var d=$("#homepage-games-carousel");if(!(d.length<=0)){var e=+d.attr("data-game-count");if(e>0){var f=d.find(".allgames-toolbar"),g=f.find(".allgames-toolbar-pointer"),h=d.find(".homepage-games-horizontal"),i=h.find(".homepage-games-item"),j=0,k=!1,l=!1,m=new shared.Timeout;shared.onScrollInScrollOut(h,function(a){l=a,b()},null,.4),f.find("a").each(function(a,b){var d=$(b);d.click(function(b){trace("index: "+a),c(a),b.preventDefault()})}),d.find('.homepage-games-arrow[data-dir="left"]').click(function(){c(j-1)}),d.find('.homepage-games-arrow[data-dir="right"]').click(function(){c(j+1)});var n={dragLockToAxis:!0,dragBlockHorizontal:!0},p=new Hammer(d[0],n);p.get("swipe").set(o),p.on("swipeleft",function(){c(j+1)}),p.on("swiperight",function(){c(j-1)})}}}(),function(){function a(){d&&e?c.set(function(){siteAnalytics.trackEvent("homepage","mini-faq","Viewed contents for 15 seconds",!0)},15):c.clear()}var b=$(".stripe-homepage-faq"),c=new shared.Timeout,d=!1,e=!1,f=b.find("h2");f.click(function(){var c=!b.hasClass("is-expanded");b.toggleClass("is-expanded",c),b.find(".mini-faq").toggleSlideUpDown(c),c&&siteAnalytics.trackEvent("homepage","mini-faq","Opened",!0),d=c,a()}),shared.onScrollInScrollOut(f,function(b){siteAnalytics.trackEvent("homepage","mini-faq","In view",!0),e=b,a()}),b.find(".mini-faq-item").each(function(){var a=$(this),b=a.find(".mini-faq-question"),c=a.find(".mini-faq-answer"),d=!1;b.click(function(){d=!d,d?c.slideDown():c.slideUp(),a.toggleClass("is-expanded",d)})})}(),shared.getCountryCode(function(a){var b=orderShared.getBasePrices(a,!0);$(".js-product-price").each(function(){var c=$(this),d=c.attr("data-sku-key");orderShared.renderPrice(c,b[d],a,!0)}),"US"===a&&h()&&$(".btn-buy.btn-buy-header,.btn-buy.btn-buy-header2,.js-show_order_bottom-text").html('From <span class="cents">$</span>79')}),$("#header-video-play-button").on("click touchend",function(a){a.preventDefault(),videoPopups.playVideo("osmo-montage-7games")}),$("#meet-osmo-video-play-button").on("click touchend",function(){var a=k()?$("#meet-osmo-video-tv"):$("#meet-osmo-video-original");return p&&(a=$("#meet-osmo-video-china")),a.trigger("click"),!1}),$('[data-toggle="tooltip"]').tooltip()})}();