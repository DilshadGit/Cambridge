function trace(a){try{debugging&&console.log(a)}catch(b){}}function reportErrors(){window.onerror=function(a,b,c){return trace("Error: "+a+" Script: "+b+" Line: "+c),!0}}function getQueryStringParam(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g,""))}function flashMessage(a,b){"success"===a?($("#flash-success .msg").text(b),$("#flash-success").fadeIn()):"error"===a&&($("#flash-error .msg").text(b),$("#flash-error").fadeIn())}function hideFlashMessages(){$("#flash-success").hide(),$("#flash-error").hide()}function validateEmail(a){return a?a.indexOf("@")<1||0===a.length?(flashMessage("error","Valid email required."),siteAnalytics.trackEvent("general","error","invalid-email-address"),!1):!0:(flashMessage("error","Email required."),!1)}var jsonData=jsonData||{};jsonData["country-info"]={AT:{currency:"EUR",ddp:!0,name:"Austria",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},AU:{currency:"AUD",ddp:!0,name:"Australia",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1500,shipping:[{cost:1750,days_high:10,days_low:5,free_above:25500,id:"intl",increment:500,provider:"Ground Shipping",provider_key:"order.shipping.intl.ground"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:7500,osmo_coding_kit:15995,osmo_creative_set:7500,osmo_full_kit:28900,osmo_genius_kit:15900,osmo_numbers:4900,osmo_starter_kit:11900,osmo_wonder_kit:22500}},CA:{currency:"CAD",ddp:!0,name:"Canada",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1500,shipping:[{cost:1750,days_high:10,days_low:5,free_above:19900,id:"intl",increment:700,provider:"Ground Shipping",provider_key:"order.shipping.intl.ground"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:6900,osmo_coding_kit:9995,osmo_creative_set:6900,osmo_genius_kit:12900,osmo_numbers:3900,osmo_starter_kit:9900,osmo_wonder_kit:18900}},CH:{currency:"USD",ddp:!1,name:"Switzerland",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},DE:{currency:"EUR",ddp:!0,name:"Germany",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},FI:{currency:"EUR",ddp:!0,name:"Finland",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},FR:{currency:"EUR",ddp:!0,name:"France",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},GB:{currency:"GBP",ddp:!0,name:"United Kingdom",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,sentence_name:"UK",sentence_name_prefix:"the ",shipping:[{cost:999,days_high:10,days_low:5,free_above:17e3,id:"intl",increment:400,provider:"Ground Shipping",provider_key:"order.shipping.intl.ground"}],symbol:"£",taxes:!1,unit_price:{osmo_coding:4900,osmo_coding_kit:5995,osmo_creative_set:4900,osmo_genius_kit:8900,osmo_numbers:2900,osmo_starter_kit:7500,osmo_wonder_kit:12900}},GR:{currency:"EUR",ddp:!0,name:"Greece",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},HK:{currency:"HKD",ddp:!0,name:"Hong Kong",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:8e3,shipping:[{cost:9995,days_high:10,days_low:5,free_above:139900,id:"intl",increment:4e3,provider:"Ground Shipping",provider_key:"order.shipping.intl.ground"}],symbol:"$",taxes:!1,unit_price:{osmo_coding:39800,osmo_coding_kit:59800,osmo_creative_set:39800,osmo_genius_kit:79800,osmo_numbers:24800,osmo_starter_kit:62800,osmo_wonder_kit:118800}},IE:{currency:"EUR",ddp:!0,name:"Ireland",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},JP:{currency:"USD",ddp:!1,name:"Japan",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:1200,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},KR:{currency:"USD",ddp:!1,name:"South Korea",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},LU:{currency:"EUR",ddp:!0,name:"Luxembourg",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1182,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8698,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},MY:{currency:"USD",ddp:!1,name:"Malaysia",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:1200,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!1,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},NL:{currency:"EUR",ddp:!0,name:"Netherlands",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,sentence_name_prefix:"the ",shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},NZ:{currency:"NZD",ddp:!0,name:"New Zealand",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1900,days_high:21,days_low:10,free_above:27500,id:"intl",increment:750,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:7900,osmo_coding_kit:14995,osmo_creative_set:7900,osmo_full_kit:29900,osmo_genius_kit:16900,osmo_numbers:4900,osmo_starter_kit:12900,osmo_wonder_kit:22500}},PT:{currency:"EUR",ddp:!0,name:"Portugal",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1199,days_high:21,days_low:10,free_above:18900,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"€",taxes:!1,unit_price:{osmo_coding:5900,osmo_coding_kit:8995,osmo_creative_set:5900,osmo_genius_kit:11900,osmo_numbers:3900,osmo_starter_kit:8900,osmo_wonder_kit:15900}},SE:{currency:"SEK",ddp:!0,name:"Sweden",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:11200,days_high:21,days_low:10,free_above:199500,id:"intl",increment:4300,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"kr",taxes:!1,unit_price:{osmo_coding:54900,osmo_coding_kit:82900,osmo_creative_set:54900,osmo_genius_kit:114900,osmo_numbers:39900,osmo_starter_kit:89900,osmo_wonder_kit:154900}},SG:{currency:"SGD",ddp:!1,name:"Singapore",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1775,days_high:21,days_low:10,free_above:25500,id:"intl",increment:700,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!1,unit_price:{osmo_coding:7500,osmo_coding_kit:15900,osmo_creative_set:7500,osmo_genius_kit:15900,osmo_numbers:4900,osmo_starter_kit:11900,osmo_wonder_kit:22500}},TH:{currency:"USD",ddp:!1,name:"Thailand",non_shipping:{osmo_coding_kit:!0,osmo_creative_set:!0},referral_amount:1e3,shipping:[{cost:1299,days_high:21,days_low:10,free_above:17500,id:"intl",increment:500,provider:"International Shipping",provider_key:"order.shipping.intl.intl"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}},US:{currency:"USD",ddp:!0,list_name:"United States of America",name:"United States",referral_amount:1e3,sentence_name:"US",sentence_name_prefix:"the ",shipping:[{cost:0,days_high:10,days_low:5,id:"ground",increment:0,provider:"FREE Ground Shipping",provider_key:"order.shipping.us.free"},{cost:1299,days_high:3,days_low:2,id:"two_days_us",increment:500,provider:"2-Day Shipping",provider_key:"order.shipping.us.2day"},{cost:3499,days_high:2,days_low:1,id:"one_day_us",increment:1e3,provider:"1-Day Shipping",provider_key:"order.shipping.us.1day"}],symbol:"$",taxes:!0,unit_price:{osmo_coding:4900,osmo_coding_kit:7500,osmo_creative_set:4900,osmo_full_kit:18900,osmo_genius_kit:9900,osmo_numbers:2900,osmo_starter_kit:7900,osmo_wonder_kit:14500}}},jsonData["experiment-defs"]=[{name:"homepageVideo",code:"hpvx",force_value:!0,pages:["home"]},{name:"homepageCredibility",code:"hcrx",force_value:!0,pages:["home"]},{name:"homepageGrows",code:"hgrx",force_value:!1,pages:["home"]},{name:"homepageFindAStore",code:"hfsx",force_value:!0,pages:["home"]},{name:"homepageShowPrice",code:"hprx",force_value:!1,pages:["home"]},{name:"homepageOrderOsmo",code:"hoox",force_value:!0,pages:["home"]},{name:"homepageOrderOsmo3",code:"hoo3x",force_value:!1,pages:["home"]},{name:"homepageTvAdvert",code:"htvx",force_value:!1,pages:["home"]},{name:"homepageChristmasTheme",code:"hpvx",force_value:!0,pages:["home"]},{name:"homepageOldVersion",code:"hovx",css_class:"homepage-oldversion",active:!1,iteration:2,returning_iteration:2,pages:"*",ga_id:"",force_value:!1},{name:"orderPageSequence",code:"opsx",active:!1,pages:["order-react"],force_value:!0},{name:"hideHowItWorks",code:"hhiwx",active:!1,pages:["home"],force_value:!0},{name:"homepageCondensedGames",code:"hcgx",active:!1,pages:["home"],force_value:!1},{name:"homepageHowItWorks2",code:"hhiw2x",active:!1,pages:["home"],classBaseName:"homepage-howitworks2",force_value:!0},{name:"orderQuantityCart",code:"oqcx",active:!1,pages:["order-react"],force_value:!0},{name:"orderQuantityFilter",code:"oqfx",active:!1,pages:["order-react"],force_value:!1},{name:"orderTwoBases",code:"o2bx",active:!1,pages:["order-react"],force_value:!0},{name:"navbarShopNow",code:"nsnx",active:!0,pages:"*"},{name:"homepageLongVideo",code:"hlvx",active:!0,pages:["home"]}],jsonData.skus=[{id:"osmo_full_kit",name:"The Complete Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_full_kit.png",is_most_popular:!0,popularity:3,includes_base:!0,base_count:2,referral_cash_back:!0,collapsed_question_text:"Want the full experience?",games_included:{base:!0,creativeset:!0,masterpiece:!0,newton:!0,tangram:!0,words:!0,numbers:!0,coding:!0,monster:!0}},{id:"osmo_wonder_kit",sku:"TP-OSMO-10",name:"Wonder Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_wonder_kit.png",popularity:1,includes_base:!0,referral_cash_back:!0,collapsed_question_text:"Want the full experience?",games_included:{base:!0,masterpiece:!0,newton:!0,tangram:!0,words:!0,numbers:!0,coding:!0}},{id:"osmo_creative_starter_kit",name:"Creative Starter Kit",box_fan_image_url:"/images/games/box-fans/osmo_creative_starter_kit.png",popularity:2,includes_base:!0,games_included:{base:!0,creativeset:!0,masterpiece:!0,monster:!0,newton:!0,tangram:!0,words:!0}},{id:"osmo_genius_kit",sku:"TP-OSMO-02",name:"Genius Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_genius_kit.png",is_new:!1,includes_base:!0,referral_cash_back:!0,collapsed_question_text:"Don’t have an Osmo base and mirror?",games_included:{base:!0,masterpiece:!0,newton:!0,tangram:!0,words:!0,numbers:!0},compliance_doc:"TP-OSMO-02_EU_DoC_20150911.pdf"},{id:"osmo_starter_kit",sku:"TP-OSMO-01",name:"Starter Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_starter_kit.png",includes_base:!0,referral_cash_back:!0,collapsed_question_text:"Don’t have an Osmo base and mirror?",games_included:{base:!0,masterpiece:!0,newton:!0,tangram:!0,words:!0},compliance_doc:"TP-OSMO-01_EU_DoC_20150611.pdf"},{id:"osmo_coding_kit",sku:"TP-OSMO-04",name:"Coding Kit",remark:"(includes base)",box_fan_image_url:"/images/games/box-fans/osmo_coding_kit.png",is_most_popular:!1,includes_base:!0,referral_cash_back:!0,collapsed_question_text:"Don’t have an Osmo base and mirror?",games_included:{base:!0,masterpiece:!0,newton:!0,coding:!0},compliance_doc:"TP-OSMO-04_EU_DoC_20160512.pdf"},{id:"osmo_creative_set",sku:"TP-OSMO-09",name:"Creative Set",box_fan_image_url:"/images/games/box-fans/osmo_creative_set.png",games_included:{creativeset:!0,masterpiece:!0,monster:!0,newton:!0}},{id:"osmo_coding",sku:"TP-OSAP-PR-01",name:"Coding",remark:"(no base)",box_fan_image_url:"/images/games/box-fans/osmo_coding.png",is_new:!1,includes_base:!1,single_item_sku:!0,games_included:{coding:!0},compliance_doc:"TP-OSAP-PR-01_EU_DoC_20160512.pdf"},{id:"osmo_numbers",sku:"TP-OSAP-NU-01",name:"Numbers",remark:"(no base)",box_fan_image_url:"/images/games/box-fans/osmo_numbers.png",is_new:!1,includes_base:!1,single_item_sku:!0,games_included:{numbers:!0},compliance_doc:"TP-OSAP-NU-01_EU_DoC_20150911.pdf"},{id:"osmo_brain_kit",sku:"TP-OSMO-06",name:"Brain Kit",box_fan_image_url:"/images/games/box-fans/osmo_brain_kit.png",includes_base:!0,games_included:{base:!0,tangram:!0,newton:!0,masterpiece:!0},compliance_doc:"TP-OSMO-06_EU_DoC_20160512.pdf"},{id:"osmo_words_kit",sku:"TP-OSMO-11",name:"Words Kit",box_fan_image_url:"/images/games/box-fans/osmo_words_kit.png",includes_base:!0,games_included:{base:!0,words:!0,newton:!0,masterpiece:!0}},{id:"osmo_creative_set_kit",sku:"TP-OSMO-05",name:"Creative Kit",box_fan_image_url:"/images/games/box-fans/osmo_creative_set_kit.png",includes_base:!0,games_included:{base:!0,creativeset:!0,newton:!0,masterpiece:!0,monster:!0}}];var host=window.location.host,globalCouponActive=!1,lang="en",languageCode="en-US",debugging=!1,isTouchDevice="ontouchstart"in window||"onmsgesturechange"in window,isIPhone=/iPhone|iPod/i.test(navigator.userAgent),isIPad=/iPad/i.test(navigator.userAgent),isIOs=isIPhone||isIPad,isNonIOsMobile=/Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isMobile=isIOs||isNonIOsMobile,isChrome="Google Inc."===navigator.vendor,isSafari="Apple Computer, Inc."===navigator.vendor,isIEEdge=/(Trident|Edge)\//i.test(navigator.userAgent),isGiddyUp="store.playosmo.com"===host;window.gruntServe=void 0,$("#page-lang").val()&&(lang=$("#page-lang").val(),languageCode=$("#page-lang-code").val()),$(document).ready(function(){$("#page-lang").val()&&(lang=$("#page-lang").val(),languageCode=$("#page-lang-code").val())}),getQueryStringParam("debugging")&&(debugging=!0),$.fn.serializeObject=function(){var a={},b=this.serializeArray();return $.each(b,function(){void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},$.fn.showHide=function(a){this.css("display",a?"":"none")},$.fn.showHideVisibility=function(a){this.css("visibility",a?"":"hidden")},$.fn.toggleSlideUpDown=function(a){a?this.slideDown():this.slideUp()},$.fn.focusAndPutCursorAtEnd=function(){return this.each(function(){if($(this).focus(),this.setSelectionRange&&"text"===this.type){var a=2*$(this).val().length;"text"===this.type&&this.setSelectionRange(a,a)}else $(this).val($(this).val());this.scrollTop=999999})};var shared=function(){function a(){return Math.floor(2821109907456*Math.random()).toString(36)}function b(){var a=$.url(),b=a.param("c"),c=$.cookie("coupon_code"),d=null;(b||c)&&(d=b?b:c,c&&!b||$.cookie("coupon_code",d,{expires:7,path:"/"}))}function c(a,b){try{if(window.sessionStorage)return void 0===b?window.sessionStorage.getItem(a):(window.sessionStorage.setItem(a,b),a+"="+b)}catch(c){trace("window.sessionStorage failed: "+c)}return $.cookie(a,b)}function d(){return $.Deferred(function(a){e().fail(a.reject).then(function(b,c){a.resolve({lat:c.lat,lng:c.lng})})})}function e(){return $.Deferred(function(a){if(s)return void s.fail(a.reject).then(function(){a.resolveWith(a,arguments)});var b;b=$.ajax({url:"/api/info",dataType:"json"}),b.fail(a.reject).fail(function(a){trace("Failed to get country code: "+JSON.stringify(a))}).done(function(b){var c,d=b.country;c={lat:b.lat,lng:b["long"]},a.resolve(d,c)}),s=a})}function f(a,b,c){function d(){b&&!i&&(i=!0,a(b))}function f(b){if(g){var c=!1;if($.each(g,function(a,d){return b===d?(c=!0,!1):void 0}),!c)return void d()}a(b)}var g=null;c&&(g=Array.isArray(c)?c:$(c)[0].options);var h=getQueryStringParam("cc");if(h&&h.search(t)>=0)return void f(h.toUpperCase());var i=!1,j=e();j.done(function(a){i=!0,f(a)}),b&&(j.fail(d),window.setTimeout(d,100))}function g(b,c,d,e){function f(){o.off(q)}function g(){j=$("#navbar-wrapper").outerHeight(),i=o.height()-j,k=n.offset().top,m=n.outerHeight(),l=k+m,h()}function h(){var a=o.scrollTop()+j,b=a+i,g=k+m*e>=a&&b>=l-m*e;g!==p&&(p=g,(p?c:d||c)(p,f))}e=+(e||0);var i,j,k,l,m,n=$(b),o=$(window),p=!1,q="."+a();return o.on("scroll"+q,h).on("resize"+q,g),g(),f}function h(a,b){var c=0;return a||(c+=$("#navbar-wrapper").outerHeight()),isNaN(b)?$(".toolbar-fixed").each(function(){c+=$(this).outerHeight()}):c+=b,c}function i(a,b,c,d){q(a);var e=null;if($(a).is(":visible")&&$(a).outerHeight()>0)e=$(a);else if($(a).each(function(){return $(this).is(":visible")?(e=$(this),!1):void 0}),null===e)return;var f=h(e.hasClass("hashtag-adjusted"),c),g=e.offset().top-f;j(g,b,d)}function j(a,b,c){c&&a>=$(window).scrollTop()||(0===b?$("html, body").stop().scrollTop(a):$("html, body").stop().animate({scrollTop:a},b||250))}function k(a,b,c){return $.Deferred(function(d){window.setTimeout(function(){c?d.rejectWith(d,b):d.resolveWith(d,b)},Math.ceil(1e3*a))})}function l(a,b){function c(){if(f>=e.length)return g=!0,void d.resolve(!0);var a=b.call(e[f].value,h,e[f].key);a===!0?h.next():a===!1&&h.exit()}var d=$.Deferred(),e=[];$.each(a,function(a){e.push({key:a,value:this})});var f=0,g=!1,h={error:function(){g||(g=!0,d.rejectWith(void 0,arguments))},next:function(){g||(f++,c())},exit:function(){g||(g=!0,d.resolve(!1))}};return c(),d}function m(a,b){var c=a.map(function(a,b){return{item:a,index:b}});return c.sort(function(a,c){var d=b(a.item,c.item);return d||a.index-c.index}),c.map(function(a){return a.item})}function n(a,b){var c={};return $.each(a,function(a,d){var e=b(a,d);$.each(e,function(a,b){c[a]=b})}),c}function o(){var a=getQueryStringParam("today");if(a){var b=moment(a,v);return b.format(v)}return moment().format(v)}function p(){var a,b=getQueryStringParam("now");return a=b?moment.utc(b,w):moment.utc(),a.format(w)}function q(a){var b=$(a);if(!(b.length<=0)){var c=b.attr("data-hashtag-expand");c&&$("#"+c).toggleClass("is-expanded",!0);var d=b.attr("data-hashtag-show");d&&$("#"+d).showHide(!0)}}function r(){function a(){c=f.outerHeight(),d=h.outerHeight(),j.cached().css("padding-top",""+(c+d)+"px"),b()}function b(){var a=e.scrollTop(),b=Math.min(d,a);h.cached().css("top",""+-b+"px"),g.cached().css("height",""+(d-b)+"px"),f.cached().css("top",""+(d-b)+"px");var j=d-b+c;i.cached().css("top",""+j+"px")}if(z)return void z();var c,d,e=$(window),f=$("#navbar-wrapper"),g=$(".navbar-banner-section"),h=g.find(".navbar-banner-section-inner"),i=$(".allgames-toolbar, #mobilemenu, .navbar-shadow"),j=$("#body-wrapper");z=a(),e.on("resize",a).on("scroll",b),a()}var s=null,t=/^[a-zA-Z]{2}$/,u=function(){function a(){b&&(window.clearTimeout(b),b=null)}if(!(this instanceof u))throw"Use “new shared.Timeout()” (instead of “shared.Timeout()”)";var b=null;this.clear=a,this.set=function(c,d){a(),b=window.setTimeout(function(){a(),c()},Math.ceil(1e3*d))},this.isSet=function(){return!!b}},v="YYYY-MM-DD",w="YYYY-MM-DD[T]HH:mm:ss[Z]",x=/^#[\-a-zA-Z0-9_]+$/,y=window.location.hash;y.search(x)>=0&&q(y);var z=null;return $(document).ready(function(){$("body").toggleClass("iphone-device",isIPhone),$("body").toggleClass("not-iphone-device",!isIPhone),$("body").toggleClass("ipad-device",isIPad),$("body").toggleClass("not-ipad-device",!isIPad),$("body").toggleClass("ios-device",isIOs),$("body").toggleClass("not-ios-device",!isIOs),$("body").toggleClass("mobile-device",isMobile),$("body").toggleClass("not-mobile-device",!isMobile),$("body").toggleClass("touch-device",isTouchDevice),$("body").toggleClass("not-touch-device",!isTouchDevice),$("html").toggleClass("chrome-browser",isChrome),$("html").toggleClass("not-chrome-browser",!isChrome),$("html").toggleClass("safari-browser",isSafari),$("html").toggleClass("not-safari-browser",!isSafari),$("html").toggleClass("ieedge-browser",isIEEdge),$("html").toggleClass("not-ieedge-browser",!isIEEdge),$("img[data-defer-src]").each(function(){var a=$(this),b=a.attr("data-defer-src");a.attr("src",b)}),$("a.back-link").each(function(){var a=this;$(a).click(function(b){var c=(a.href||"").split("#")[0];if(c===document.referrer){var d=!1;$(window).on("beforeunload",function(){d=!0}),b.preventDefault(),history.back(),setTimeout(function(){d||(window.location.href=a.href)},200)}})}),$("a.auto-download").each(function(){var a=this;window.location.href=a.href}),$(".smooth-scroll-link").each(function(){var a=this;$(a).click(function(b){var c=$(a).attr("href")||$(a).attr("data-href");/^#[-_a-zA-Z0-9]+$/.test(c)&&(shared.scrollToTopOf($(c)),b.preventDefault())})}),function(){$("body").is("#pg-home")&&f(function(a){function b(b){var e=!1;return $.each(b,function(){if(!($.inArray(a,this.countries)<0))if(this.lastDate){if(c<=this.lastDate)return e=!0,!1}else if(this.lastDateTime&&d<this.lastDateTime)return e=!0,!1}),e}var c=o(),d=p(),e=!1,f=$(".navbar-banner-section"),g=f.find(".shipping-dates-messages");g.find(".shipping-dates-message").each(function(){var a=$(this),c=JSON.parse(a.attr("data-applies-to"));return b(c)?(e=!0,a.showHide(!0),!1):void 0}),e&&!isGiddyUp&&($(".navbar-banner-shipping-dates").showHide(!0),r())})}(),f(function(a){$("body").attr("data-country",a)});var a=$(".show-for-countries");a.length>0&&f(function(b){a.each(function(){var a=$(this),c=a.attr("data-show-for-countries")||"",d=!0;"!"===c[0]&&(d=!1,c=c.substr(1));var e=c.split(" "),f=!d;$.each(e,function(a,c){return c.toUpperCase()===b?(f=d,!1):void 0}),a.showHide(f)})})}),$(window).load(function(){$("iframe[data-defer-src]").each(function(){var a=$(this),b=a.attr("data-defer-src");a.attr("src",b)}),window.setTimeout(function(){$(".js-external-deferred").each(function(){var a=$(this),b=a.attr("data-content");a.html(b)})},200)}),Array.prototype.reduce||(Array.prototype.reduce=function(a){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2===arguments.length)b=arguments[1];else{for(;d>e&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;d>e;e++)e in c&&(b=a(b,c[e],e,c));return b}),{eachAsync:l,getCountryCode:f,getLocationByIpAddress:d,getTimeoutDeferred:k,getTodaysDate:o,getDateTimeUtc:p,getTotalToolbarHeight:h,isoDateFormat:v,mapToObject:n,onScrollInScrollOut:g,randomString:a,scrollToTopOf:i,scrollToY:j,sessionStorage:c,showBanner:r,couponCheck:b,stableSort:m,Timeout:u}}();!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),"store.playosmo.com"===window.location.host?(ga("create","UA-50556511-4","auto"),ga("send","pageview")):(ga("create","UA-50556511-1","playosmo.com"),ga("require","displayfeatures"),ga("require","linkid","linkid.js"),ga("send","pageview"));var siteAnalytics=function(){function a(){var a=document.referrer;a&&!/^https?:\/\/(www\.)?playosmo.com\//i.test(a)?(S=a,$.cookie("site-referrer",S,{expires:90,path:"/"}),T=moment.utc().format(shared.isoDateFormat),$.cookie("site-referral-date",T,{expires:90,path:"/"})):(S=$.cookie("site-referrer"),T=$.cookie("site-referral-date"))}function b(){return void 0===S&&a(),{url:S,date:T}}function c(){if(getQueryStringParam("utm_source")){var a={source:getQueryStringParam("utm_source"),medium:getQueryStringParam("utm_medium"),campaign:getQueryStringParam("utm_campaign"),date:moment.utc().format(shared.isoDateFormat)};U=JSON.stringify(a),$.cookie("utm-data",U,{expires:90,path:"/"})}}function d(){return U||c(),U=U||$.cookie("utm-data"),U?JSON.parse(U):{}}function e(){if(null===_){var a=$.cookie("random");null===a||void 0===a||""===a||"0"===a||0===a?(Z=!0,shared.sessionStorage("first-time-visitor","1"),a=(Math.random()+" ").substring(2,10)+(Math.random()+" ").substring(2,10),$.cookie("random",a,{expires:90,path:"/"})):Z=!!shared.sessionStorage("first-time-visitor"),_=a}return _}function f(){return e(),Z}function g(a){var b="(unknown)",c="",d=$.url(),e=d.param("r"),f=$.cookie("referral_code");return"undefined"!=typeof e&&null!==e?(b="(url)",c=e.toString(),$.cookie("referral_code",c,{expires:30,path:"/"})):"undefined"!=typeof f&&null!==f&&(b="(cookie)",c=f),a===!0&&""!==c&&(ga("set","campaignName",name),ga("set","campaignId",c),ga("set","campaignSource",b)),""===c?0:parseInt(c)}function h(){return g(!1)}function i(a){window.__adroll&&(__adroll.record_user({adroll_segments:a}),trace("adrollSegment: "+a))}function j(a,b,c,d){if(d){var e=JSON.stringify([a,b,c]);if(X[e])return;X[e]=!0}ga("send","event",a,b,c),trace("GA event: "+a+" » "+b+" » "+c)}function k(){aa||(!function(a,b,c,d,e,f,g){a.fbq||(e=a.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},a._fbq||(a._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],f=b.createElement(c),f.async=!0,f.src=d,g=b.getElementsByTagName(c)[0],g.parentNode.insertBefore(f,g))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),isGiddyUp?fbq("init","1009085542489219"):fbq("init","1472450199654104"),fbq("track","PageView"),aa=!0,trace("Facebook pixel initialised"))}function l(){k(),fbq.apply(void 0,arguments)}function m(a,b,c,d){ga("send","event",a,b,c,d),trace("GA event: "+a+" » "+b+" » "+c+" / value: "+d)}function n(a){j("button","click",a)}function o(){(new Date).getTime()-Q>3e3&&(i("read_everything"),j("homepage","viewed","read everything"))}function p(){trace("trackAdWordsPageView");var a=new Image(1,1);a.src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/966703469/?value=0&guid=ON"}function q(a){trace("trackAdWordsConversion: USD "+a);var b=new Image(1,1);b.src="//www.googleadservices.com/pagead/conversion/966703469/?value="+a+"&label=dq8QCIuO7QsQ7fL6zAM&guid=ON"}function r(a,b){trace("trackFBConversion: "+b+" "+a);var c=new Image(1,1);c.src="//www.facebook.com/offsite_event.php?id=6013514157692&value="+(b/100).toFixed(2)+"&currency="+a,l("track","Purchase",{value:(b/100).toFixed(2),currency:a})}function s(){trace("trackOBConversion");var a=new Image(1,1);a.src="//traffic.outbrain.com/network/trackpxl?advid=14383&action=view"}function t(){trace("trackTwitterConversion");var a=new Image(1,1);a.src="https://analytics.twitter.com/i/adsct?txn_id=l4meh&p_id=Twitter";var b=new Image(1,1);b.src="//t.co/i/adsct?txn_id=l4meh&p_id=Twitter"}function u(a,b){trace("trackAdhesiveConversion");var c=new Image(1,1);c.src="//secure.adnxs.com/px?id=284406&seg=1989112&order_id="+a+"&value="+b+"&t=2"}function v(){trace("trackBingConversion"),$("<iframe/>",{src:"//flex.msn.com/mstag/tag/40b680c3-322a-4326-8fad-1fcef14c3e19/analytics.html?dedup=1&domainId=3171036&type=1&actionid=250835",frameborder:"0",scrolling:"no",width:"1",height:"1",style:"visibility:hidden;display:none"}).appendTo("body")}function w(a,b){trace("trackGoogleRetargetting");var c=new Image(1,1);c.src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/966703469/?value="+(b/100).toFixed(2)+"&currency_code="+a+"&label=gJrBCJScq1YQ7fL6zAM&guid=ON&script=0"}function x(){trace("tracktrackYieldMo"),$('<script type="text/javascript" async src="https://yieldmo-a.akamaihd.net/ym.adv.min.js" class="ym" ymadvid="997037356863568618" conversion-type="lead"></script>').appendTo("body")}function y(a){trace("trackCake"),$("<iframe/>",{src:"https://giddyuptrk.com/p.ashx?o=375&e=54&t="+a,height:"1",width:"1",frameborder:"0"}).appendTo("body")}function z(){trace("trackConversantConversion");var a=new Image(1,1);a.src="//secure.fastclick.net/w/roitrack.cgi?aid=1000048842"}function A(a,b){trace("trackPinterestConversion: $"+a+" for "+b);var c=new Image(1,1);c.src="https://ct.pinterest.com/?tid=Y9fxU4Nkg36&value="+a+"&quantity="+b}function B(){var a=new Image(1,1);a.src="https://ct.pinterest.com/?tid=4jWQoNm7dZY&value=0.00&quantity=1"}function C(a){var b=$.cookie("mainVideoPlaytime");void 0!==b&&b>a||($.cookie("mainVideoPlaytime",a,{expires:7,path:"/"}),trace("mainVideoPlayed: "+a))}function D(){var a=$.cookie("mainVideoPlaytime");return void 0!==a?a:0}function E(){var a=D();m("order","viewed","video playtime",a),m("order","viewed","video"+(D()>0?"":" not")+" played")}function F(a){switch(a){case"AUD":return.74;case"CAD":return.79;case"EUR":return 1.11;case"GBP":return 1.55;case"HKD":return.13;case"SGD":return.74}return 1}function G(a){ba[a]||(B(),ba[a]=!0)}function H(a,b){return(b*F(a)/100).toFixed(2)}function I(a,b,c,d,e){trace("order #: "+a+" total: "+d),
$.each(c,function(a){trace("  sku: "+a+" qty: "+this.quantity+" price: "+this.item_price+" "+b)}),m("order","completed","starter_pack",Math.round(d)),m("order","completed","video playtime",D()),m("order","completed","video"+(D()>0?"":" not")+" played"),ga("require","ecommerce","ecommerce.js"),ga("ecommerce:addTransaction",{id:a,affiliation:"Osmo Store",revenue:(d/100).toFixed(2),shipping:(e/100).toFixed(2),currency:b});var f=0;$.each(c,function(){f+=this.quantity}),$.each(c,function(c){if(this.quantity>0){var d=Math.round(this.discount/this.quantity),e=(this.item_price-d)/100;ga("ecommerce:addItem",{id:a,sku:c,price:""+e,quantity:""+this.quantity,currency:b});var f="https://5165144.fls.doubleclick.net/activityi;src=5165144;type=osmosal;cat=osmosal;qty="+this.quantity+";cost="+e+";u1="+c+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+a+"?";$("<iframe/>",{src:f,width:"1",height:"1",frameborder:"0",style:"display:none"}).appendTo($("body"))}}),ga("ecommerce:send"),ga("ecommerce:clear");var g=H(b,d);r(b,d),q(g),s(),t(),v(),u(a,g),w(b,d),x(),z(),A(g,f),"store.playosmo.com"===window.location.host?(y(a),$('<script type="text/javascript" async src="//cdn.optimizely.com/js/2151291350.js"></script>').appendTo("body"),window._fbq=window._fbq||[],window._fbq.push(["track","6030780683178",{value:d,currency:b}])):window.optimizely&&(window.optimizely.push(["trackEvent","purchase",{revenue:Math.round(100*g)}]),trace("optimizely event")),setTimeout(function(){i("pre_order")},1e3)}function J(a,b){var c;"string"==typeof b?c=b:"object"==typeof b&&b?(c="",$.each(b,function(a,b){""!==c&&(c+=", "),c+=a+"="+b})):c=""+b,ga("set","dimension"+a,c),ca[a]!==c&&(ca[a]=c,trace("set dimension"+a+" to: "+c))}function K(a){var b=JSON.stringify(a);if(!da[b]){da[b]=!0,trace("DoubleClick pixel: "+b);var c=""+Math.random(),d=1e13*c,e="https://5165144.fls.doubleclick.net/activityi;src=5165144;type="+(a.type||"")+";cat="+(a.cat||"")+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment="+(a.noNum?";ord="+d:";ord=1;num="+d)+"?";$("<iframe/>",{src:e,width:"1",height:"1",frameborder:"0",style:"display:none"}).appendTo($("body"))}}function L(){var a=window.location.pathname,b=window.location.hash;if(b&&"#"!==b&&(a+=b.replace("#","~")),fa.length>0){var c=$(window).scrollTop(),d=c+$(window).height();$.each(fa,function(){var a=this,b=ea[a];if(b&&b.is(":visible")){var e=b.offset().top,f=e+b.outerHeight(),g=d>=f&&e>=c;g&&(ha=a,j("general","new-view-point",ha),delete ea[a],$.isEmptyObject(ea)&&(fa=[]))}})}ha&&(a+="["+ha+"]"),window.location.search&&(a+=window.location.search),a!==R&&(ga("set","page",a),ga("send","pageview"),R=a,j("general","new-page-location",R))}function M(){return parseFloat($.cookie("playosmo-velocity")||"0")}function N(){function a(){var b;if(V){var c=performance.now();b=.001*(c-W),W=c}else b=ia;var d=M();d+=b,$.cookie("playosmo-velocity",d.toFixed(3)),window.setTimeout(a,1e3*ia)}$(".disable-velocity").length||(V=!(!window.performance||!window.performance.now),V&&(W=performance.now()),window.setTimeout(a,1e3*ia))}function O(a){j("outbound","click",""+a)}function P(){R=window.location.pathname,L(),J(2,lang),a(),c(),N(),riveted.init(),reportErrors(),Q=(new Date).getTime(),e(),void 0===$.cookie("c_total")&&g(!0),p(),$(window).on("hashchange",function(){L()}),$(".btn-buy").click(function(){$(this).attr("id")&&n($(this).attr("id"))}),$("a.ga-external").click(function(){O($(this).attr("href"))}),$("a.ga-download").click(function(){j("general","download-link",$(this).attr("href"))});var b=$(".js-analytics-viewpoint");b.length>0&&(fa=$.map(b,function(a){var b=$(a).data("viewpoint-name");return b&&(ea[b]=$(a)),b}),$(window).on("scroll",L),$(window).on("resize",L))}var Q,R,S,T,U,V,W,X={},Y=function(a){ga("send","event","outbound","click",a,{hitCallback:function(){document.location=a}})},Z=null,_=null,aa=!1,ba={},ca={},da={},ea={},fa=[],ha=null,ia=2;return k(),{trackOutboundLink:Y,getUniqueId:e,isFirstTimeVisitor:f,getReferral:h,getSiteReferrer:b,getVelocity:M,getUtmData:d,trackButton:n,trackEvent:j,trackExternalUrl:O,trackReadAll:o,setVideoPlayed:C,getVideoPlaytime:D,sendOrderViewEvent:E,trackAddToCart:G,trackConversion:I,setDimension:J,fireDoubleClickPixel:K,onReady:P}}();$(document).ready(function(){siteAnalytics.onReady()});var trackOutboundLink=siteAnalytics.trackOutboundLink,getUniqueId=siteAnalytics.getUniqueId,trackEvent=siteAnalytics.trackEvent,getVideoPlaytime=siteAnalytics.getVideoPlaytime,sendOrderViewEvent=siteAnalytics.sendOrderViewEvent,trackConversion=siteAnalytics.trackConversion,shareButtons=function(){function a(a,b){return a&&(null===g&&void 0!==$.cookie("my_referral_url")&&(g=$.cookie("my_referral_url")),null!==g)?g:(null===h&&void 0!==$.cookie("my_referral")&&(h=$.cookie("my_referral")),null!==h?"https://www.playosmo.com?r="+h+(b?"&"+b:""):"https://www.playosmo.com"+(b?"?"+b:""))}function b(a){var b=$(a).closest("[data-share-id]");return b.length>0?b.data("share-id"):a.id}function c(){return window.location}function d(a){window.open(a,"_blank",f)}function e(){$(".btn-twitter").click(function(){var e="",f=b(this);if(siteAnalytics.trackButton("share-twitter-"+f),"confirm"===f)e=$.cookie("my_referral")?"Osmo is awesome! The first 5 orders using my link get a discount off any full Osmo Kit: "+a(!1)+" @playosmo #osmo":"Can't wait for my Osmo to ship! Get yours at "+a(!1)+" @playosmo #osmo";else if("teacher-claim"===f)e="I can't wait to get my Osmo gift for my classroom! @playosmo #OsmoAcademy: https://www.playosmo.com/en/schools/ pic.twitter.com/OVwP98Cu2H";else if("school-supporter"===f)e="I just gave an Osmo to a school with their Buy One, Give One Program! @playosmo #OsmoAcademy: https://www.playosmo.com/en/schools/ pic.twitter.com/9hlkhJlOw0";else if("badge-hands-on-tech"===f)e="Hands-on tech is awesome! pic.twitter.com/DQnlI8yPjt @playosmo #osmo";else if("badge-social-emotional-skills"===f)e="SOCIAL-EMOTIONAL skills matter! pic.twitter.com/NPLYW6jx3q @playosmo #osmo";else if("badge-learning-fun"===f)e="Learning MUST be fun! pic.twitter.com/GU1OQ186p6 @playosmo #osmo";else if("badge-osmo-fan"===f)e="Nice to be an Osmo fan! "+a(!1)+" pic.twitter.com/EXp2mstkKc @playosmo #osmo";else if(/^lesson-/.test(f)){var g=null,h=$(this).closest("[data-lesson-plan-title]");h.length>0&&(g=h.data("lesson-plan-title")),e="I'm going to teach "+g+" with @PlayOsmo "+c()}else e="Osmo is awesome! Check it out at "+a(!1)+" @playosmo #osmo";d("https://twitter.com/intent/tweet?text="+encodeURIComponent(e))}),$(".btn-facebook").click(function(){var e=b(this);siteAnalytics.trackButton("share-facebook-"+e);var f="Osmo’s groundbreaking system fosters social intelligence and creative thinking by opening up the iPad to the endless possibilities of physical play.",g="https://www.playosmo.com/static/osmo-play-beyond-the-screen.jpg",h=a(!1),i="Osmo | Play Beyond The Screen";if("teacher-claim"===e)i="Osmo | Buy One, Give One",f="Osmo wants to empower parents to support local schools. This is why for every purchase of an Osmo, we give one to a U.S. classroom of your choice",g="https://www.playosmo.com/static/badge-parents-rock.jpg";else if("school-supporter"===e)i="Osmo | Buy One, Give One",f="Osmo wants to empower parents to support local schools. This is why for every purchase of an Osmo, we give one to a U.S. classroom of your choice",g="https://www.playosmo.com/static/badge-school-supporter.jpg";else if("badge-hands-on-tech"===e)i="Osmo | Play Beyond The Screen",f="Osmo’s groundbreaking system fosters social intelligence and creative thinking by opening up the iPad to the endless possibilities of physical play.",g="https://"+host+"/static/badge-hands-on-tech.jpg",h=a(!1);else if("badge-social-emotional-skills"===e)f="Osmo’s groundbreaking system fosters social intelligence and creative thinking by opening up the iPad to the endless possibilities of physical play.",g="https://"+host+"/static/badge-social-emotional-skills.jpg",h=a(!1);else if("badge-learning-fun"===e)f="Osmo’s groundbreaking system fosters social intelligence and creative thinking by opening up the iPad to the endless possibilities of physical play.",g="https://"+host+"/static/badge-learning-fun.jpg",h=a(!1);else if("badge-osmo-fan"===e)g="https://www.playosmo.com/static/badges/badge-osmo-fan-2.png",h=a(!1);else if(/^lesson-/.test(e)){var j=null,k=$(this).closest("[data-lesson-plan-title]");k.length>0&&(j=k.data("lesson-plan-title"),g="https://"+host+"/static/game-icons/"+k.data("lesson-plan-game")+".png"),i="Osmo Academy",f="From phonics to photosynthesis, Osmo lesson plans can be easily integrated into any classroom.",h=c()}else"numbers-video"===e&&(i="Osmo Numbers",f="Numbers is the newest addition to Osmo, the innovative kids’ technology system for iPads. Watch your kids go from doing math to “playing math”, gaining confidence with numbers in a way that is interactive and creative.",g="https://www.playosmo.com/static/images/numbers_thumbnail.jpg",h=a(!1,"numbers_video=play"));var l="https://www.facebook.com/v2.0/dialog/feed?app_id=1549622298597661&description="+encodeURIComponent(f)+"&display=popup&e2e=%7B%7D"+(h?"&link="+encodeURIComponent(h):"")+"&locale=en_US&name="+encodeURIComponent(i)+"&next="+encodeURIComponent("https://s-static.ak.facebook.com/connect/xd_arbiter/V80PAcvrynR.js?version=41#cb=f14697f7c4&domain=www.playosmo.com&origin=https%3A%2F%2Fwww.playosmo.com%2Ff2f2968104&relation=opener&frame=f20c195578&result=%22xxRESULTTOKENxx%22")+"&picture="+encodeURIComponent(g);d(l)});var e={threshold:75,velocity:.1},f=$(window);$(".badges-to-share-set").each(function(){function a(a){null!==g&&(window.clearTimeout(g),g=null),j&&(g=window.setTimeout(function(){b(d%3+1,!0)},a?8e3:12e3))}function b(b,e){if(!(0>=b||b>3)&&(i=h,a(e),b!==d)){c.removeClass("badge-selected-"+d),c.addClass("badge-selected-"+b);var f=c.find(".badge-to-share");f.removeClass("badge-selected"),$(f.get(b-1)).addClass("badge-selected"),d=b}}var c=$(this),d=0,g=null,h=0,i=0,j=!1,k={dragLockToAxis:!0,dragBlockHorizontal:!0},l=new Hammer(c.closest(".badges-area")[0],k);l.get("swipe").set(e),l.on("swipeleft",function(){b(d+1)}),l.on("swiperight",function(){b(d-1)}),f.scroll(function(){h=f.scrollTop();var b=c.offset().top;j=h<b+c.outerHeight()&&h+f.height()>b,null===g&&a(!0)}),c.find(".badge-to-share").each(function(a){var c=$(this),d=new Hammer(this,k);d.get("swipe").set(e);var f=c.data("share-id");c.click(function(){b(a+1),siteAnalytics.trackEvent("homepage","badge-click",f,!0)}),c.hover(function(){siteAnalytics.trackEvent("homepage","badge-hover",f,!0)})}),b(1,!0)})}var f="height=420,width=550,menubar=no,resizable=no,scrollbars=no,status=no,directories=false,toolbar=no",g=null,h=null;return{onReady:e}}();$(document).ready(function(){shareButtons.onReady()}),Function.prototype.bind=function(){}.bind||function(a){function b(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=[].slice,d=c.call(arguments,1),e=this,f=function(){return e.apply(this instanceof b?this:a||window,d.concat(c.call(arguments)))};return b.prototype=this.prototype,f.prototype=new b,f},function(a){"use strict";function b(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):void 0}function c(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1}function d(a,b){var c;a.createTextRange?(c=a.createTextRange(),c.move("character",b),c.select()):a.selectionStart&&(a.focus(),a.setSelectionRange(b,b))}function e(a,b){try{return a.type=b,!0}catch(c){return!1}}a.Placeholders={Utils:{addEventListener:b,inArray:c,moveCaret:d,changeType:e}}}(this),function(a){"use strict";function b(){}function c(){try{return document.activeElement}catch(a){}}function d(a,b){var c,d,e=!!b&&a.value!==b,f=a.value===a.getAttribute(H);return(e||f)&&"true"===a.getAttribute(I)?(a.removeAttribute(I),a.value=a.value.replace(a.getAttribute(H),""),a.className=a.className.replace(G,""),d=a.getAttribute(O),parseInt(d,10)>=0&&(a.setAttribute("maxLength",d),a.removeAttribute(O)),c=a.getAttribute(J),c&&(a.type=c),!0):!1}function e(a){var b,c,d=a.getAttribute(H);return""===a.value&&d?(a.setAttribute(I,"true"),a.value=d,a.className+=" "+F,c=a.getAttribute(O),c||(a.setAttribute(O,a.maxLength),a.removeAttribute("maxLength")),b=a.getAttribute(J),b?a.type="text":"password"===a.type&&T.changeType(a,"text")&&a.setAttribute(J,"password"),!0):!1}function f(a,b){var c,d,e,f,g,h,i;if(a&&a.getAttribute(H))b(a);else for(e=a?a.getElementsByTagName("input"):p,f=a?a.getElementsByTagName("textarea"):q,c=e?e.length:0,d=f?f.length:0,i=0,h=c+d;h>i;i++)g=c>i?e[i]:f[i-c],b(g)}function g(a){f(a,d)}function h(a){f(a,e)}function i(a){return function(){r&&a.value===a.getAttribute(H)&&"true"===a.getAttribute(I)?T.moveCaret(a,0):d(a)}}function j(a){return function(){e(a)}}function k(a){return function(b){return t=a.value,"true"===a.getAttribute(I)&&t===a.getAttribute(H)&&T.inArray(D,b.keyCode)?(b.preventDefault&&b.preventDefault(),!1):void 0}}function l(a){return function(){d(a,t),""===a.value&&(a.blur(),T.moveCaret(a,0))}}function m(a){return function(){a===c()&&a.value===a.getAttribute(H)&&"true"===a.getAttribute(I)&&T.moveCaret(a,0)}}function n(a){return function(){g(a)}}function o(a){a.form&&(y=a.form,"string"==typeof y&&(y=document.getElementById(y)),y.getAttribute(K)||(T.addEventListener(y,"submit",n(y)),y.setAttribute(K,"true"))),T.addEventListener(a,"focus",i(a)),T.addEventListener(a,"blur",j(a)),r&&(T.addEventListener(a,"keydown",k(a)),T.addEventListener(a,"keyup",l(a)),T.addEventListener(a,"click",m(a))),a.setAttribute(L,"true"),a.setAttribute(H,w),(r||a!==c())&&e(a)}var p,q,r,s,t,u,v,w,x,y,z,A,B,C=["text","search","url","tel","email","password","number","textarea"],D=[27,33,34,35,36,37,38,39,40,8,46],E="#ccc",F="placeholdersjs",G=RegExp("(?:^|\\s)"+F+"(?!\\S)"),H="data-placeholder-value",I="data-placeholder-active",J="data-placeholder-type",K="data-placeholder-submit",L="data-placeholder-bound",M="data-placeholder-focus",N="data-placeholder-live",O="data-placeholder-maxlength",P=document.createElement("input"),Q=document.getElementsByTagName("head")[0],R=document.documentElement,S=a.Placeholders,T=S.Utils;if(S.nativeSupport=void 0!==P.placeholder,!S.nativeSupport){for(p=document.getElementsByTagName("input"),q=document.getElementsByTagName("textarea"),r="false"===R.getAttribute(M),s="false"!==R.getAttribute(N),u=document.createElement("style"),u.type="text/css",v=document.createTextNode("."+F+" { color:"+E+"; }"),u.styleSheet?u.styleSheet.cssText=v.nodeValue:u.appendChild(v),Q.insertBefore(u,Q.firstChild),B=0,A=p.length+q.length;A>B;B++)z=p.length>B?p[B]:q[B-p.length],w=z.attributes.placeholder,w&&(w=w.nodeValue,w&&T.inArray(C,z.type)&&o(z));x=setInterval(function(){for(B=0,A=p.length+q.length;A>B;B++)z=p.length>B?p[B]:q[B-p.length],w=z.attributes.placeholder,w?(w=w.nodeValue,w&&T.inArray(C,z.type)&&(z.getAttribute(L)||o(z),(w!==z.getAttribute(H)||"password"===z.type&&!z.getAttribute(J))&&("password"===z.type&&!z.getAttribute(J)&&T.changeType(z,"text")&&z.setAttribute(J,"password"),z.value===z.getAttribute(H)&&(z.value=w),z.setAttribute(H,w)))):z.getAttribute(I)&&(d(z),z.removeAttribute(H));s||clearInterval(x)},100)}T.addEventListener(a,"beforeunload",function(){S.disable()}),S.disable=S.nativeSupport?b:g,S.enable=S.nativeSupport?b:h}(this),function(a){"use strict";var b=a.fn.val,c=a.fn.prop;Placeholders.nativeSupport||(a.fn.val=function(a){var c=b.apply(this,arguments),d=this.eq(0).data("placeholder-value");return void 0===a&&this.eq(0).data("placeholder-active")&&c===d?"":c},a.fn.prop=function(a,b){return void 0===b&&this.eq(0).data("placeholder-active")&&"value"===a?"":c.apply(this,arguments)})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*(2*Math.PI)/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*(.3*1.5)),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*(b*b*(((f*=1.525)+1)*b-f))+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*(7.5625*b*b)+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(){function a(a){this.$el_=a,this.attr_={},this.css_={},this.toggleClass_={}}a.prototype={attr:function(a,b){this.attr_[a]!==b&&(this.$el_.attr(a,b),this.attr_[a]=b)},css:function(a,b){if("string"==typeof a){var c=a;a={},a[c]=b}var d=this.css_,e=null;$.each(a,function(a){var b=this;d[a]!==b&&(e=e||{},e[a]=b,d[a]=b)}),e&&this.$el_.css(e)},toggleClass:function(a,b){b=!!b,this.toggleClass_[a]!==b&&(this.$el_.toggleClass(a,b),this.toggleClass_[a]=b)}};var b="_f00ce8ed4fdb_cache";$.fn.cached=function(){var c=this[b];return c||(c=new a(this),this[b]=c),c}}();var experiments=function(){function a(a,b){var c=a;return b>1&&(c=c+"/"+b),c}function b(){if(!j){i={},$.each(h,function(){var b=a(this.code,this.iteration);i[this.name]={def:this,code:b}});var b=$.cookie("expts");"string"==typeof b?j=JSON.parse(b):siteAnalytics.isFirstTimeVisitor()?(j={},$.each(i,function(){if(this.def.active){var a=null;"boolean"==typeof this.def.force_value&&(a={v:this.def.force_value,p:this.def.force_value?1:0}),j[this.code]=a}})):j={},c()}}function c(){var a=JSON.stringify(j);$.cookie("expts",a,{expires:90,path:"/"});var b=Object.keys(j).sort(function(a,b){return a.localeCompare(b)}).reduce(function(a,b){var c=j[b];return c&&c.p>0&&c.p<1&&(a[b]=c.v?1:0),a},{});0===Object.keys(b).length&&(b="-"),siteAnalytics.setDimension(1,b)}function d(a,b,d){j[a]={v:!!b,p:d?b?1:0:.5},c()}function e(e){b();var f=i[e];if(!f)throw new Error("Could not find experiment of name "+e);var g=getQueryStringParam(f.def.code);if(g)return!!parseInt(g);var h=f.code;if("boolean"==typeof f.def.force_value)return d(h,f.def.force_value,!0),f.def.force_value;var k=f.def.iteration,l=j[h],m=!1;if("object"!=typeof l){if(!(f.def.returning_iteration>0))return!1;m=!0,e+="_r",k=f.def.returning_iteration,h=a(f.def.code+"_r",k),l=j[h],"object"!=typeof l&&(j[h]=l=null,c())}if(null!==l&&!(l.p>0&&l.p<1))return l.v;k>1&&(e+="_"+k);var n=window["cxApi_"+e];if(!n)return trace("Couldn’t find GA experiment object for “"+e+"”"),d(h,!1,!0),!1;var o,p;return o=0!==n.chooseVariation(),p=n.getChosenVariation()>=0,p||(o=!1),trackEvent("general","experiment-"+(p?"active":"inactive"),e+" / "+h),m&&!p||d(h,o,!p),o}function f(a){return b(),function(){return e(a)}}function g(a,b){"function"==typeof b&&(b=b());var c=$("body");c.toggleClass(a+"-on",!!b),c.toggleClass(a+"-off",!b)}var h=jsonData["experiment-defs"],i=null,j=null;return{getVariation:f,setBodyFlag:g}}(),sharedUi=function(){var a=experiments.getVariation("homepageOldVersion","hovx/2");experiments.setBodyFlag("homepage-oldversion",a);var b=!a();!function(){var a=getQueryStringParam("hmbx");a&&(b=!!parseInt(a))}(),$("body").toggleClass("homepage-menubar-on",b),$("body").toggleClass("homepage-menubar-off",!b);var c=experiments.getVariation("navbarShopNow");return experiments.setBodyFlag("navbar-shopnow",c),{homepageOldVersionOn:a}}();!function(){function a(){void 0===$.cookie("hide_cookie_notice")&&shared.getCountryCode(function(a){"US"!==a&&$("#cookie-bar").fadeIn()})}function b(){g||(g=!0,e.stop(!0),e.css("height",""),e.slideDown(),$(".js-games-link").addClass("active"),f.stop(!0),f.fadeIn())}function c(){g=!1,e.stop(!0),e.slideUp(),$(".js-games-link").removeClass("active"),f.stop(!0),f.fadeOut()}function d(a){(a?b:c)()}var e=$(".navbar-games"),f=$(".navbar-shadow"),g=!1,h=$("#stripe-allgames-toolbar");$(document).ready(function(){reportErrors(),a(),isMobile?$(".popover-info").popover({html:!0,trigger:"click",placement:"bottom"}):$(".popover-info").popover({html:!0,trigger:"hover"}),$("body").on("click touchend",function(a){$(".popover-info").each(function(){$(this).is(a.target)||0!==$(this).has(a.target).length||0!==$(".popover").has(a.target).length||$(this).popover("hide")})}),$("body").on("hidden.bs.tooltip",function(){var a=$(".tooltip").not(".in");a&&a.remove()}),$(".js-games-link").mouseover(function(){b()}),isTouchDevice||$(".navbar-link-games").mouseover(function(){d(!0)}),$(".navbar-games").mouseleave(function(){c()}),h.mouseleave(function(){d(!1)}),$("#body-wrapper").mouseover(function(){g&&c(),d(!1)}),$(".navbar-links .link:not(.js-games-link):not(.navbar-link-games)").mouseover(function(){e.is(":visible")&&c(),d(!1)}),$(".logo").mouseover(function(){e.is(":visible")&&!$(this).hasClass("js-games-link")&&c(),d(!1)}),$("#slide_hero").length||$(".btn-buy-header,.btn-buy-header2").addClass("btn-buy-show"),$("#btn-cookie").click(function(){return $.cookie("hide_cookie_notice",1,{expires:365,path:"/"}),$("#cookie-bar").fadeOut(),!1})})}();var videoPopups=function(){function a(a,b){var c=h[a];c||(c=h[a]=[]),c.push(b)}function b(a,b){h[a]&&$.each(h[a],function(){this(b)})}function c(a,c){var d=$(a),e=c?c.videoId:d.attr("data-video-id"),f="iframe_"+shared.randomString(),h=null;c?h=c.endTime||null:d.attr("data-video-end-time")&&(h=parseFloat(d.attr("data-video-end-time")));var i=c?c.closeScrollTo:d.attr("data-video-close-scroll-to"),j=null;d.magnificPopup({disableOn:0,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,iframe:{patterns:{youtube:{src:"https://www.youtube.com/embed/%id%?autoplay=1&rel=0&enablejsapi=1"+(null!==h?"&end="+h:"")}}},callbacks:{markupParse:function(a){j=a.find("iframe"),j.attr("id",f)},open:function(){siteAnalytics.setVideoPlayed(1),siteAnalytics.trackEvent("general","play-video",this.currItem.src,!0),g(function(a){new a.Player(f,{events:{onStateChange:function(c){c.data===a.PlayerState.ENDED&&$.magnificPopup.close(),e&&b(e,c)}}})})},close:function(){if(i){var a=$(i.split(",").map(function(a){return"#"+a}).join(","));window.setTimeout(function(){shared.scrollToTopOf(a,400)},200)}}}})}function d(a,b){$(a).magnificPopup({type:"inline",mainClass:"mfp-fade",midClick:!0,fixedContentPos:!1,callbacks:{open:function(){var a=$(this.content),c=a.find("video")[0];if(c){c.currentTime=0,c.play();var d=b?b.autoclose:"false"!==a.attr("data-autoclose");if(d){var e=!1,f=!1,g=!1,h=$(c),i=function(){e=!1,f=!1,g=!1,c.pause(),$.magnificPopup.close()};h.on("ended",function(){trace("ended"),isChrome&&f?e=!0:i()}).on("pause",function(){trace("pause"),f=!0}).on("play",function(){trace("play"),g&&e&&i(),f=!1,e=!1}).on("seeking",function(){trace("seeking"),g=!0}).on("seeked",function(){trace("seeked"),g=!1})}}},close:function(){var a=$(this.content).find("video")[0];a&&(a.pause(),a.currentTime=0)}}})}function e(a){var b=i[a];if(!b){var e=$("#video-link-holder-"+a);e.length||console.warn("Could not find video "+a);var g={videoId:a,closeScrollTo:e.attr("data-video-close-scroll-to"),autoclose:"false"!==e.attr("data-autoclose")};e.attr("data-video-end-time")&&(g.endTime=parseFloat(e.attr("data-video-end-time")));var h=null,j=function(){if(!h){var a=e.find('a[data-video-link-type="html"]');a.length>0&&(d(a,g),h=a)}},k=function(){if(!h){var a=e.find('a[data-video-link-type="youtube"]');a.length>0&&(c(a,g),h=a)}};"CN"===f&&j(),k(),j(),b=function(){h.trigger("click")},i[a]=b}return b()}var f=null;shared.getCountryCode(function(a){f=a});var g=function(){var a=null,b=[];return window.onYouTubeIframeAPIReady=function(){a=YT,trace("Google YouTube API loaded!"),$.each(b,function(){this(a)}),b=null},function(c){return a?void c(a):void b.push(c)}}(),h={},i={};return $(document).ready(function(){$(".js-popup-youtube").each(function(a,b){c(b)}),$(".js-popup-html").each(function(a,b){d(b)}),$(".js-popup-video").each(function(a,b){var c=$(b);c.click(function(a){a.preventDefault();var b=c.attr("data-video-name");e(b)})}),parseInt(getQueryStringParam("autoplay"))>0&&$(".js-popup-video").each(function(a,b){var c=$(b);return c.is(":visible")?(c.click(),!1):void 0});var a=$(".grow-with-mouse");isIOs||$("html, body").mousemove(function(b){var c=2,d=.002;a.each(function(){var a=$(this),e=a.offset(),f=b.pageX-(e.left+a.outerWidth()/2),g=b.pageY-(e.top+a.outerHeight()/2),h=Math.sqrt(f*f+g*g),i=(c-1)*Math.exp(-h*d)+1;a.css("transform","scale("+i+")")})})}),{addVideoCallback:a,playVideo:e}}();!function(){function a(a){return new Promise(function(b,c){b(fetch("/api/v2/newsletter/subscribe",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a,email_type:"all",subscribe:!0})}).then(function(a){if(!a.ok)throw new Error(a.text());return a.json()}))})}function b(a,b){return a.then(function(a){return new Promise(function(a){a(b())}).then(function(){return Promise.resolve(a)})})["catch"](function(a){return new Promise(function(a){a(b())}).then(function(){return Promise.reject(a)})})}$(document).ready(function(){$(".page-footer-newsletter-email").each(function(c,d){var e=$(d),f=e.find(".page-footer-newsletter-button"),g=e.find(".page-footer-newsletter-input"),h=e.find(".page-footer-newsletter-error"),i=!1;f.click(function(){if(!i){h.showHide(!1);var c=$.trim(g.val());return c.match(/^[^@]+@[^@]+$/)?(i=!0,f.attr("data-working","true"),b(a(c).then(function(){$(".page-footer-newsletter").showHide(!1),$(".page-footer-newsletter-success").showHide(!0)})["catch"](function(a){return h.filter('[data-error="server"]').showHide(!0),console.log(a),a}),function(){i=!1,f.attr("data-working","")}),!1):void h.filter('[data-error="email"]').showHide(!0)}}),g.on("input change",function(){h.showHide(!1)})})})}(),$(function(){function a(c){if(g!==c){g=c,f.toggleClass("collapsed",!c),b.toggleClass("is-expanded",c);var d=b.outerWidth();c?($("#mobilemenu").on("touchstart"+h+" touchmove"+h,function(a){a.stopPropagation()}),$("#body-wrapper").on("touchmove"+h,function(a){a.preventDefault(),a.stopPropagation()}),f.off(h),$("#body-wrapper,#navbar,#stripe-allgames-toolbar").on("mousedown"+h+" touchstart"+h,function(b){a(!1),b.preventDefault(),b.stopPropagation()}),e.css("left",d+"px"),$("body").css({overflow:"hidden"})):($("#mobilemenu").off(h),$("#body-wrapper,#navbar,#stripe-allgames-toolbar").off(h),e.css("left","0"),$("body").css({"overflow-y":"visible"}),f.on("mousedown"+h,function(b){b.stopPropagation(),a(!g)}))}}var b=$("#mobilemenu");if(b.length){var c=2,d=!1;$(window).scroll(function(){var a=$(this).scrollTop();d=a>c,c=a});var e=$("#body-wrapper,#stripe-allgames-toolbar"),f=$(".mobilemenu-toggle"),g=!1,h=".mobilemenu_jz5pbukm";f.on("mousedown"+h,function(b){b.stopPropagation(),a(!g)}),b.find("a").click(function(){a(!1)});var i=new Hammer.Manager(b[0],{recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL,threshold:75,velocity:.1}]]});i.on("swipeleft",function(){a(!1)})}}),$(function(){function a(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g,""))}function b(a){return"en"===a||"en-US"===a}var c=navigator.languages;if(!c||c.length<=0){if(!navigator.language)return;c=[navigator.language]}var d=a("lang");d&&(c=d.split(/[,;]/));var e=/^(en|fr)(-.*)?$/i;c=c.filter(function(a){return e.test(a)}).map(function(a){var b=a.match(e);return b[1].toLowerCase()+(b[2]?b[2].toUpperCase():"")});var f=/^en(-.*)?/,g=/^([a-z]*)(-.*)?/;if(!(c.length<=0||b(c[0]))){var h=null,i=null;$(".i18n-translate").each(function(){var a=$(this),d=null;$.each(c,function(){var c=this;if(b(c))return!1;var e=a.attr("data-"+c);return e?(d=e,h=h||c,!1):void 0}),d||$.each(c,function(){var c=this;if(b(c))return!1;c=f.test(c)?"en-GB":c.match(g)[1];var e=a.attr("data-"+c.toLowerCase());return e?(d=e,i=i||c,!1):void 0}),d&&a.replaceWith(d)}),h=h||i,h&&$("html").attr("lang",h)}}),$("#flash-error .close").click(function(){$("#flash-error").hide()}),$("#flash-success .close").click(function(){$("#flash-success").hide()});